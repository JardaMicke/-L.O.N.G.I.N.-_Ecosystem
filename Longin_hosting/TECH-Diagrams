# ðŸ“Š LONGIN HOSTING SERVER - TECHNICKÃ‰ DIAGRAMY

**Verze:** 1.0  
**Datum:** BÅ™ezen 2025

---

## ðŸ“‘ OBSAH

1. [System Architecture Diagram](#system-architecture-diagram)
2. [Component Interaction Diagram](#component-interaction-diagram)
3. [User Login Flow (Sequence Diagram)](#user-login-flow)
4. [Application Start Flow (Sequence Diagram)](#application-start-flow)
5. [GitHub Deployment Flow (Sequence Diagram)](#github-deployment-flow)
6. [Metrics Collection Flow (Sequence Diagram)](#metrics-collection-flow)
7. [Logging Pipeline (Data Flow)](#logging-pipeline)
8. [Docker Swarm Architecture](#docker-swarm-architecture)
9. [Database Schema Diagram](#database-schema-diagram)
10. [Network & Port Architecture](#network-port-architecture)

---

## ðŸ—ï¸ SYSTEM ARCHITECTURE DIAGRAM

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     LONGIN HOSTING SERVER - COMPLETE ARCHITECTURE            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           INTERNET / EXTERNAL USERS                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTPS (80, 443)
                             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   TRAEFIK REVERSE PROXY (8080, 8081)       â”‚
        â”‚   â€¢ SSL/TLS Termination                    â”‚
        â”‚   â€¢ Load Balancing                         â”‚
        â”‚   â€¢ Service Discovery                      â”‚
        â”‚   â€¢ Custom URL Routing                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Longin Web UI    â”‚   â”‚  Deployed Apps   â”‚
         â”‚   (React, 3000)    â”‚   â”‚  (Ports 4000+)   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                     â–²
                 â”‚ HTTP (3001)         â”‚
                 â”‚ WS (3002)           â”‚
                 â–¼                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
        â”‚   LONGIN CORE          â”‚â—„â”€â”€â”€â”˜
        â”‚   (Node.js/Express)    â”‚
        â”‚   Port: 3001, 3002     â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ â€¢ API Gateway          â”‚
        â”‚ â€¢ Auth Management      â”‚
        â”‚ â€¢ Container Lifecycle  â”‚
        â”‚ â€¢ WebSocket Server     â”‚
        â”‚ â€¢ Docker Orchestration â”‚
        â””â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
            â”‚    â”‚    â”‚    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”  â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚  â”‚    â”‚              â”‚          â”‚
    â–¼         â–¼  â–¼    â–¼              â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Databaseâ”‚â”‚  Cache  â”‚â”‚ Logging â”‚â”‚Monitoringâ”‚â”‚  Docker   â”‚
â”‚Service â”‚â”‚ Service â”‚â”‚ Service â”‚â”‚ Service  â”‚â”‚   Daemon  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚â”‚         â”‚â”‚         â”‚â”‚          â”‚â”‚            â”‚
â”‚PostgreSQL Redis   ELK Stack  Prometheus  Docker Swarm â”‚
â”‚+ PgVector         (Kibana)   (Grafana)   + Networking â”‚
â”‚                                                        â”‚
â”‚Port:5432         Port:6379  Port:9200   Port:/var/runâ”‚
â”‚                             Port:5601    Port:9090    â”‚
â”‚                             Port:5044    Port:3003    â”‚
â”‚                             Port:9091                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚          â”‚          â”‚          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  INTERNAL DOCKER NETWORK â”‚
        â”‚  (longin-network bridge) â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  USER APPLICATIONS    â”‚
         â”‚  (Docker Containers)  â”‚
         â”‚                       â”‚
         â”‚ â€¢ App 1 (running)     â”‚
         â”‚ â€¢ App 2 (running)     â”‚
         â”‚ â€¢ App 3 (stopped)     â”‚
         â”‚ â€¢ ... more apps       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   EXTERNAL SERVICES     â”‚
         â”‚                         â”‚
         â”‚ â€¢ GitHub API            â”‚
         â”‚ â€¢ Docker Registry       â”‚
         â”‚ â€¢ SMTP Gateway          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”— COMPONENT INTERACTION DIAGRAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LONGIN CORE - INTERNAL ARCHITECTURE                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   FRONTEND (React)   â”‚
                    â”‚   HTTP + WebSocket   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  API GATEWAY / ROUTER       â”‚
                â”‚  â€¢ Request validation       â”‚
                â”‚  â€¢ CORS handling            â”‚
                â”‚  â€¢ Request logging          â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  AUTH MIDDLEWARE                    â”‚
                â”‚  â€¢ JWT validation                   â”‚
                â”‚  â€¢ Token refresh                    â”‚
                â”‚  â€¢ Permission checking              â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          â”‚           â”‚            â”‚          â”‚
        â–¼          â–¼           â–¼            â–¼          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ AUTH   â”‚â”‚ APPS   â”‚â”‚SYSTEM  â”‚â”‚WEBHOOKSâ”‚â”‚WEBSOCKETâ”‚
    â”‚ROUTES â”‚â”‚ROUTES  â”‚â”‚ROUTES  â”‚â”‚ROUTES  â”‚â”‚SERVER   â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚         â”‚         â”‚         â”‚          â”‚
        â–¼         â–¼         â–¼         â–¼          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ AUTH   â”‚â”‚ APP    â”‚â”‚MONITOR â”‚â”‚DEPLOYMENTâ”‚â”‚ EVENT   â”‚
    â”‚SERVICE â”‚â”‚SERVICE â”‚â”‚SERVICE â”‚â”‚SERVICE   â”‚â”‚EMITTER  â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚         â”‚         â”‚         â”‚            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚         â”‚         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  DATABASE  â”‚  â”‚ DOCKER  â”‚â”‚ REDIS CACHEâ”‚
        â”‚  (PG)      â”‚  â”‚ CLIENT  â”‚â”‚            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


    KEY FLOWS:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€
    1. User Request â†’ Auth â†’ Service â†’ DB/Docker â†’ Response
    2. Real-time Updates â†’ WebSocket Server â†’ Event Emitter â†’ Clients
    3. Background Jobs â†’ Job Queue (Redis) â†’ Workers â†’ Database
```

---

## ðŸ”„ USER LOGIN FLOW (SEQUENCE DIAGRAM)

```
Browser              Frontend          Longin Core         Database        Redis
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â”‚ 1. Visit /login    â”‚                   â”‚                 â”‚             â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚                 â”‚             â”‚
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â”‚                    â”‚ 2. Render form    â”‚                 â”‚             â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                 â”‚             â”‚
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â”‚ 3. User enters credentials and clicks "Sign In"         â”‚             â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚             â”‚
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â”‚                    â”‚ 4. POST /auth/login                 â”‚             â”‚
   â”‚                    â”‚    {username, password}             â”‚             â”‚
   â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚             â”‚
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â”‚                    â”‚                   â”‚ 5. Query user   â”‚             â”‚
   â”‚                    â”‚                   â”‚    by username  â”‚             â”‚
   â”‚                    â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â”‚                    â”‚                   â”‚ 6. Return user  â”‚             â”‚
   â”‚                    â”‚                   â”‚    (hashed pwd) â”‚             â”‚
   â”‚                    â”‚                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â”‚                    â”‚                   â”‚ 7. Compare pwd  â”‚             â”‚
   â”‚                    â”‚                   â”‚    (bcrypt)     â”‚             â”‚
   â”‚                    â”‚                   â”‚ [Verify OK]     â”‚             â”‚
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â”‚                    â”‚                   â”‚ 8. Generate JWT â”‚             â”‚
   â”‚                    â”‚                   â”‚    + Refresh    â”‚             â”‚
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â”‚                    â”‚                   â”‚ 9. Store session             â”‚
   â”‚                    â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â”‚                    â”‚                   â”‚ 10. Return JWT  â”‚             â”‚
   â”‚                    â”‚                   â”‚     + user data â”‚             â”‚
   â”‚                    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚             â”‚
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â”‚ 11. Store token in localStorage / sessionStorage        â”‚             â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                 â”‚             â”‚
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â”‚ 12. Redirect to /dashboard            â”‚                 â”‚             â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                 â”‚             â”‚
   â”‚                    â”‚                   â”‚                 â”‚             â”‚
   â–¼                    â–¼                   â–¼                 â–¼             â–¼

LEGEND:
âœ“ Login Successful - Token stored, User redirected
âœ— Login Failed - Error message displayed, Form cleared
```

---

## ðŸš€ APPLICATION START FLOW (SEQUENCE DIAGRAM)

```
User         Frontend        Longin Core      Docker Daemon    Database      Redis
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚ 1. Click START â”‚                  â”‚              â”‚              â”‚             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚ 2. POST /apps/:id/start        â”‚              â”‚             â”‚
â”‚                â”‚     + JWT token                â”‚              â”‚             â”‚
â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚ 3. Auth check              â”‚             â”‚
â”‚                â”‚                  â”‚ [Verify user permission]   â”‚             â”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚ 4. Check app exists        â”‚             â”‚
â”‚                â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚              â”‚ 5. Return app config      â”‚
â”‚                â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚ 6. Check running instances â”‚             â”‚
â”‚                â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚              â”‚ 7. Return current count   â”‚
â”‚                â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚ [Decision: Max instances?]  â”‚             â”‚
â”‚                â”‚                  â”‚ [OK - Proceed]              â”‚             â”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚ 8. Assign port (4000+)      â”‚             â”‚
â”‚                â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚              â”‚ 9. Reserve port in cache  â”‚
â”‚                â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚ 10. Pull Docker image       â”‚             â”‚
â”‚                â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚             â”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚ 11. Create container        â”‚             â”‚
â”‚                â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚             â”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚ 12. Start container         â”‚             â”‚
â”‚                â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚             â”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚ 13. Register in DB          â”‚             â”‚
â”‚                â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚ 14. Update app status       â”‚             â”‚
â”‚                â”‚                  â”‚    to "running"             â”‚             â”‚
â”‚                â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚
â”‚                â”‚                  â”‚              â”‚              â”‚             â”‚
â”‚                â”‚                  â”‚ 15. Publish WebSocket event â”‚             â”‚
â”‚                â”‚                  â”‚    "app:status"             â”‚             â”‚
â”‚                â”‚ 16. Return 200 OK                              â”‚             â”‚
â”‚                â”‚     {status: "running", url, port}            â”‚             â”‚
â”‚                â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚             â”‚             â”‚
â”‚                â”‚                   â”‚              â”‚             â”‚             â”‚
â”‚ 17. Update UI - show "Running"     â”‚              â”‚             â”‚             â”‚
â”‚ Display URL + port                â”‚              â”‚             â”‚             â”‚
â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚              â”‚             â”‚             â”‚
â”‚                â”‚                   â”‚              â”‚             â”‚             â”‚
â”‚ 18. User can now access app        â”‚              â”‚             â”‚             â”‚
â”‚ at http://localhost:4001           â”‚              â”‚             â”‚             â”‚
â”‚                â”‚                   â”‚              â”‚             â”‚             â”‚
â–¼                â–¼                   â–¼              â–¼              â–¼             â–¼

ERROR SCENARIOS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Scenario A: Max instances exceeded
  â†’ Step 7 decision: FAIL â†’ Return 409 Conflict + error message

Scenario B: Docker pull fails
  â†’ Step 11 fails â†’ Log error, update app status to "error", notify user

Scenario C: Container fails to start
  â†’ Step 12 fails â†’ Rollback, delete from DB, notify user
```

---

## ðŸ”— GITHUB DEPLOYMENT FLOW (SEQUENCE DIAGRAM)

```
GitHub         GitHub Webhook    Longin Core      Docker Daemon   Database    Git Repo
  â”‚                  â”‚                 â”‚                â”‚            â”‚           â”‚
  â”‚ 1. Push to main  â”‚                 â”‚                â”‚            â”‚           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚                â”‚            â”‚           â”‚
  â”‚                  â”‚                 â”‚                â”‚            â”‚           â”‚
  â”‚                  â”‚ 2. POST /webhooks/github          â”‚            â”‚           â”‚
  â”‚                  â”‚    {event_type, commits, ...}     â”‚            â”‚           â”‚
  â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚            â”‚           â”‚
  â”‚                  â”‚                 â”‚                 â”‚            â”‚           â”‚
  â”‚                  â”‚                 â”‚ 3. Validate webhook secret   â”‚           â”‚
  â”‚                  â”‚                 â”‚ [HMAC-SHA256 verification]   â”‚           â”‚
  â”‚                  â”‚                 â”‚ [OK]                         â”‚           â”‚
  â”‚                  â”‚                 â”‚                 â”‚            â”‚           â”‚
  â”‚                  â”‚                 â”‚ 4. Parse payload            â”‚           â”‚
  â”‚                  â”‚                 â”‚ Extract: commit, branch, url â”‚           â”‚
  â”‚                  â”‚                 â”‚                 â”‚            â”‚           â”‚
  â”‚                  â”‚                 â”‚ 5. Find app by repo URL     â”‚           â”‚
  â”‚                  â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚           â”‚
  â”‚                  â”‚                 â”‚                 â”‚            â”‚           â”‚
  â”‚                  â”‚                 â”‚ 6. Return app config        â”‚           â”‚
  â”‚                  â”‚                 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
  â”‚                  â”‚                 â”‚                 â”‚            â”‚           â”‚
  â”‚                  â”‚                 â”‚ 7. Create deployment record â”‚           â”‚
  â”‚                  â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚           â”‚
  â”‚                  â”‚                 â”‚                 â”‚            â”‚           â”‚
  â”‚                  â”‚                 â”‚ 8. Queue deployment job     â”‚           â”‚
  â”‚                  â”‚                 â”‚ (async processing)          â”‚           â”‚
  â”‚                  â”‚                 â”‚                 â”‚            â”‚           â”‚
  â”‚                  â”‚ 9. Return 202 Accepted             â”‚            â”‚           â”‚
  â”‚                  â”‚    {deploymentId, status: "queued"}â”‚            â”‚           â”‚
  â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚            â”‚           â”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚           â”‚
  â”‚ [Background Job Processing]          â”‚                 â”‚            â”‚           â”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚           â”‚
  â”‚                  â”‚                   â”‚ 10. Clone repo  â”‚            â”‚           â”‚
  â”‚                  â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚        â”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚ 11. Cloneâ”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚         â”‚
  â”‚                  â”‚                   â”‚ 12. Detect Dockerfile       â”‚         â”‚
  â”‚                  â”‚                   â”‚ Checkout branch             â”‚         â”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚         â”‚
  â”‚                  â”‚                   â”‚ 13. Build Docker image      â”‚         â”‚
  â”‚                  â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚          â”‚         â”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚         â”‚
  â”‚                  â”‚                   â”‚ 14. Build output logs       â”‚         â”‚
  â”‚                  â”‚                   â”‚ [Success/Failed]            â”‚         â”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚         â”‚
  â”‚                  â”‚                   â”‚ 15. If old container runningâ”‚         â”‚
  â”‚                  â”‚                   â”‚     Stop old container      â”‚         â”‚
  â”‚                  â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚          â”‚         â”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚         â”‚
  â”‚                  â”‚                   â”‚ 16. Start new container     â”‚         â”‚
  â”‚                  â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚          â”‚         â”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚         â”‚
  â”‚                  â”‚                   â”‚ 17. Health check (30s)      â”‚         â”‚
  â”‚                  â”‚                   â”‚ [Wait for container ready]  â”‚         â”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚         â”‚
  â”‚                  â”‚                   â”‚ 18. Update deployment statusâ”‚         â”‚
  â”‚                  â”‚                   â”‚     to "success"            â”‚         â”‚
  â”‚                  â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚         â”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚         â”‚
  â”‚                  â”‚                   â”‚ 19. Broadcast WebSocket     â”‚         â”‚
  â”‚                  â”‚                   â”‚     "deployment:success"    â”‚         â”‚
  â”‚                  â”‚                   â”‚                 â”‚            â”‚         â”‚
  â–¼                  â–¼                   â–¼                 â–¼            â–¼           â–¼

WEBHOOK DELIVERY & RETRY:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
GitHub retries webhook if:
â€¢ Response status â‰  2xx
â€¢ Timeout (30s)
â€¢ Up to 5 retries with exponential backoff

DEPLOYMENT STATUS TRACKING:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
pending    â†’ Queued for processing
in_progress â†’ Currently building/deploying
success    â†’ Deployed successfully
failed     â†’ Build or deployment failed
```

---

## ðŸ“Š METRICS COLLECTION FLOW (SEQUENCE DIAGRAM)

```
Docker Stats    Prometheus     Database      Frontend       WebSocket
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚ 1. Scrape interval (5s)    â”‚             â”‚             â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚             â”‚
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚ 2. Query Docker daemon      â”‚             â”‚             â”‚
     â”‚ GET /containers/{id}/stats â”‚             â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚             â”‚
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚ 3. Parse metrics:           â”‚             â”‚             â”‚
     â”‚    â€¢ CPU %                  â”‚             â”‚             â”‚
     â”‚    â€¢ Memory MB              â”‚             â”‚             â”‚
     â”‚    â€¢ Network In/Out         â”‚             â”‚             â”‚
     â”‚    â€¢ Disk I/O               â”‚             â”‚             â”‚
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚ 4. Store in time-series DB  â”‚             â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚              â”‚ 5. Store metrics in Redis cache          â”‚
     â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚ 6. Prometheus query (every 30s)          â”‚             â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚             â”‚             â”‚
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚ 7. Return metrics            â”‚             â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚             â”‚
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚              â”‚ 8. Store in Prometheus TSDB             â”‚
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚              â”‚              â”‚ 9. Query from WebSocket    â”‚
     â”‚              â”‚              â”‚    GET /apps/:id/metrics   â”‚
     â”‚              â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚              â”‚              â”‚ 10. Return current metrics â”‚
     â”‚              â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚              â”‚              â”‚ 11. Push via WebSocket     â”‚
     â”‚              â”‚              â”‚    "container:metrics"     â”‚
     â”‚              â”‚              â”‚             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚              â”‚              â”‚             â”‚ 12. Displayâ”‚
     â”‚              â”‚              â”‚             â”‚    on chart
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚ 13. Grafana queries metrics every 10s     â”‚             â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚             â”‚             â”‚
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚ 14. Fetch from Prometheus TSDB           â”‚             â”‚
     â”‚              â”‚              â”‚             â”‚             â”‚
     â”‚ 15. Update dashboards in real-time       â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚
     â”‚              â”‚              â”‚             â”‚             â”‚
â–¼    â–¼              â–¼              â–¼             â–¼             â–¼

METRIC RETENTION:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Real-time (Redis):      Keep last 100 metrics (~500 seconds)
Time-series (TSDB):     Keep 30 days
Grafana Dashboard:      Display last 24 hours (default)

ALERT THRESHOLDS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CPU > 80%       â†’ Warning
Memory > 90%    â†’ Warning
Disk > 85%      â†’ Critical
Uptime < 99%    â†’ Alert
```

---

## ðŸ“ LOGGING PIPELINE (DATA FLOW)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        LOGGING PIPELINE FLOW                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SOURCES:
â•â•â•â•â•â•â•â•
1. Application Containers
   â””â”€ stdout/stderr â†’ Docker daemon logs

2. Longin Core Application
   â””â”€ Application logs â†’ File/Console

3. System Events
   â””â”€ Docker events, System calls

4. API Requests
   â””â”€ Request/Response logging

5. Deployment Actions
   â””â”€ Build logs, Deploy logs


PIPELINE:
â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LOG SOURCES (Multiple Entry Points)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              â”‚              â”‚              â”‚
    â–¼              â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Docker  â”‚  â”‚App     â”‚    â”‚System      â”‚  â”‚API       â”‚
â”‚Logs    â”‚  â”‚Logs    â”‚    â”‚Events      â”‚  â”‚Logs      â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
    â”‚          â”‚                 â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                 â”‚
               â–¼                 â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  LOG COLLECTION AGENT          â”‚
         â”‚  (Logstash / Fluentd)          â”‚
         â”‚                                â”‚
         â”‚  â€¢ Parse log formats           â”‚
         â”‚  â€¢ Extract structured data     â”‚
         â”‚  â€¢ Add metadata:               â”‚
         â”‚    - timestamp                 â”‚
         â”‚    - app_id                    â”‚
         â”‚    - container_id              â”‚
         â”‚    - severity level            â”‚
         â”‚    - hostname                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Validate â”‚    â”‚ Filter/Enrich â”‚
        â”‚ Format   â”‚    â”‚ (add tags)     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚              â”‚
                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  MULTIPLE DESTINATIONS   â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜
               â”‚         â”‚      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Elasticsearchâ”‚  â”‚SQLite Local  â”‚  â”‚Redis Pub/Subâ”‚
    â”‚             â”‚  â”‚Log Storage   â”‚  â”‚(Real-time)  â”‚
    â”‚â€¢ Indexing   â”‚  â”‚              â”‚  â”‚             â”‚
    â”‚â€¢ Querying   â”‚  â”‚â€¢ Full-text   â”‚  â”‚â€¢ WebSocket  â”‚
    â”‚â€¢ Analytics  â”‚  â”‚  search      â”‚  â”‚  broadcast  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚            â”‚                     â”‚
           â–¼            â–¼                     â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  KIBANA    â”‚ â”‚  SQLite  â”‚    â”‚ FRONTEND UI     â”‚
    â”‚ Dashboard  â”‚ â”‚ Query    â”‚    â”‚ (Real-time      â”‚
    â”‚            â”‚ â”‚  Logs    â”‚    â”‚  Logs Panel)    â”‚
    â”‚ â€¢ Visualizeâ”‚ â”‚  via API â”‚    â”‚                 â”‚
    â”‚ â€¢ Analyze  â”‚ â”‚          â”‚    â”‚ â€¢ Live tail     â”‚
    â”‚ â€¢ Alert    â”‚ â”‚          â”‚    â”‚ â€¢ Search/Filter â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


LOG LEVELS:
â•â•â•â•â•â•â•â•â•â•â•
DEBUG   â†’ Detailed debugging info
INFO    â†’ General informational messages
WARN    â†’ Warning messages
ERROR   â†’ Error messages
FATAL   â†’ Critical system failure

RETENTION:
â•â•â•â•â•â•â•â•â•â•
Elasticsearch:  30 days (hot index)
SQLite:         90 days (archive)
Real-time:      24 hours (in Redis)
```

---

## ðŸ³ DOCKER SWARM ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           MULTI-MACHINE DOCKER SWARM SETUP                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


NETWORK TOPOLOGY:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INTERNET                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ WAN / LAN
                     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                â”‚                â”‚
    â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Manager  â”‚   â”‚ Worker 1 â”‚   â”‚ Worker 2 â”‚
â”‚ (Host A) â”‚   â”‚(Host B)  â”‚   â”‚(Host C)  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        Swarm Manager Communication
        (Port 2377 - TCP)
        (Port 7946 - TCP/UDP)
        (Port 4789 - UDP VXLAN)


MANAGER NODE (Primary Host):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   LONGIN MASTER - MANAGER NODE             â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Longin Core API                      â”‚ â”‚
â”‚  â”‚ Docker Swarm Manager                 â”‚ â”‚
â”‚  â”‚ Raft Consensus (Leadership)          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Services:                            â”‚ â”‚
â”‚  â”‚ â€¢ longin-core (replica 1)            â”‚ â”‚
â”‚  â”‚ â€¢ longin-ui (replica 1)              â”‚ â”‚
â”‚  â”‚ â€¢ postgres (replica 1)               â”‚ â”‚
â”‚  â”‚ â€¢ redis (replica 1)                  â”‚ â”‚
â”‚  â”‚ â€¢ prometheus (replica 1)             â”‚ â”‚
â”‚  â”‚ â€¢ grafana (replica 1)                â”‚ â”‚
â”‚  â”‚ â€¢ elasticsearch (replica 1)          â”‚ â”‚
â”‚  â”‚ â€¢ traefik (global)                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  Overlay Network: longin-network          â”‚
â”‚  Ingress Network: Built-in load balancing â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


WORKER NODE 1:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WORKER NODE (Host B)                     â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Docker Engine (Swarm mode)           â”‚ â”‚
â”‚  â”‚ (Worker - not eligible for manager)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Running Service Replicas:            â”‚ â”‚
â”‚  â”‚ â€¢ longin-core (replica 2)            â”‚ â”‚
â”‚  â”‚ â€¢ User App Containers (4000+)        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  Network Interfaces:                       â”‚
â”‚  â€¢ eth0: Host network (2377,7946)          â”‚
â”‚  â€¢ docker_gwbridge: Swarm communication    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


WORKER NODE 2:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WORKER NODE (Host C)                     â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Docker Engine (Swarm mode)           â”‚ â”‚
â”‚  â”‚ (Worker - not eligible for manager)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Running Service Replicas:            â”‚ â”‚
â”‚  â”‚ â€¢ longin-core (replica 3)            â”‚ â”‚
â”‚  â”‚ â€¢ User App Containers (4000+)        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  Network Interfaces:                       â”‚
â”‚  â€¢ eth0: Host network (2377,7946)          â”‚
â”‚  â€¢ docker_gwbridge: Swarm communication    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


SWARM ARCHITECTURE FEATURES:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Service Discovery                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Embedded DNS: consul.127.0.0.11:53                   â”‚
â”‚ â€¢ Service name resolution across overlay network       â”‚
â”‚ â€¢ VIP (Virtual IP) for each service                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Load Balancing                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Ingress load balancing (Ports 80, 443)               â”‚
â”‚ â€¢ Internal load balancing (IPVS)                       â”‚
â”‚ â€¢ Round-robin across replicas                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Networking                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Overlay Network (VXLAN tunneling)                    â”‚
â”‚ â€¢ Network encryption (optional)                        â”‚
â”‚ â€¢ Cross-machine communication seamless                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Storage & Persistence                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Named volumes (shared across nodes via NFS)          â”‚
â”‚ â€¢ Bind mounts (host-specific)                          â”‚
â”‚ â€¢ Database replication (PostgreSQL streaming)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“¦ DATABASE SCHEMA DIAGRAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    POSTGRESQL DATABASE SCHEMA                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


USERS TABLE:
â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ users                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  id (UUID)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     username (VARCHAR) UNIQUE               â”‚
â”‚     email (VARCHAR) UNIQUE                  â”‚
â”‚     password_hash (VARCHAR)                 â”‚
â”‚     role (VARCHAR) {admin, user}            â”‚
â”‚     is_active (BOOLEAN)                     â”‚
â”‚     theme (VARCHAR) {dark, light}           â”‚
â”‚     notifications_enabled (BOOLEAN)         â”‚
â”‚     created_at (TIMESTAMP)                  â”‚
â”‚     updated_at (TIMESTAMP)                  â”‚
â”‚     last_login (TIMESTAMP)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Indexes:                                    â”‚
â”‚   idx_username (username)                   â”‚
â”‚   idx_email (email)                         â”‚
â”‚   idx_role (role)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


APPLICATIONS TABLE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ applications                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  id (UUID)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     name (VARCHAR)                          â”‚
â”‚     description (TEXT)                      â”‚
â”‚     version (VARCHAR)                       â”‚
â”‚     docker_image (VARCHAR)                  â”‚
â”‚     docker_compose_file (TEXT)              â”‚
â”‚     github_repo_url (VARCHAR)               â”‚
â”‚     github_branch (VARCHAR) = 'main'        â”‚
â”‚ FK  owner_id (UUID) â†’ users.id              â”‚
â”‚     port_internal (INT) = 8080              â”‚
â”‚     port_external (INT)                     â”‚
â”‚     custom_url (VARCHAR) UNIQUE             â”‚
â”‚     env_vars (JSONB)                        â”‚
â”‚     status (VARCHAR) {running,stopped...}   â”‚
â”‚     is_public (BOOLEAN)                     â”‚
â”‚     max_instances (INT) = 2                 â”‚
â”‚     current_instances (INT) = 0             â”‚
â”‚     auto_update_enabled (BOOLEAN)           â”‚
â”‚     created_at (TIMESTAMP)                  â”‚
â”‚     updated_at (TIMESTAMP)                  â”‚
â”‚     last_started (TIMESTAMP)                â”‚
â”‚     last_stopped (TIMESTAMP)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Indexes:                                    â”‚
â”‚   idx_owner_id (owner_id)                   â”‚
â”‚   idx_status (status)                       â”‚
â”‚   idx_name (name)                           â”‚
â”‚   idx_github_repo (github_repo_url)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


CONTAINERS TABLE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ containers                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  id (UUID)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     container_id (VARCHAR) UNIQUE           â”‚
â”‚ FK  app_id (UUID) â†’ applications.id         â”‚
â”‚     cpu_limit (VARCHAR) = '0.5'             â”‚
â”‚     memory_limit (VARCHAR) = '512m'         â”‚
â”‚     port_assigned (INT)                     â”‚
â”‚     ip_address (VARCHAR)                    â”‚
â”‚     status (VARCHAR) {running,stopped...}   â”‚
â”‚     started_at (TIMESTAMP)                  â”‚
â”‚     exited_at (TIMESTAMP)                   â”‚
â”‚     node_id (VARCHAR)                       â”‚
â”‚     node_name (VARCHAR)                     â”‚
â”‚     created_at (TIMESTAMP)                  â”‚
â”‚     updated_at (TIMESTAMP)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Indexes:                                    â”‚
â”‚   idx_app_id (app_id)                       â”‚
â”‚   idx_status (status)                       â”‚
â”‚   idx_node_id (node_id)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


DEPLOYMENTS TABLE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ deployments                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  id (UUID)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ FK  app_id (UUID) â†’ applications.id         â”‚
â”‚     deployment_type (VARCHAR)               â”‚
â”‚     status (VARCHAR)                        â”‚
â”‚     git_commit_hash (VARCHAR)               â”‚
â”‚     git_commit_message (TEXT)               â”‚
â”‚     git_branch (VARCHAR)                    â”‚
â”‚ FK  deployed_by (UUID) â†’ users.id           â”‚
â”‚     docker_image_hash (VARCHAR)             â”‚
â”‚     docker_image_size (INT)                 â”‚
â”‚     started_at (TIMESTAMP)                  â”‚
â”‚     completed_at (TIMESTAMP)                â”‚
â”‚     duration_seconds (INT)                  â”‚
â”‚     build_log (TEXT)                        â”‚
â”‚     deployment_error (TEXT)                 â”‚
â”‚     created_at (TIMESTAMP)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Indexes:                                    â”‚
â”‚   idx_app_id (app_id)                       â”‚
â”‚   idx_status (status)                       â”‚
â”‚   idx_deployed_by (deployed_by)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


METRICS TABLE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ metrics                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  id (BIGSERIAL)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ FK  container_id (UUID) â†’ containers.id     â”‚
â”‚     cpu_percent (FLOAT)                     â”‚
â”‚     memory_bytes (BIGINT)                   â”‚
â”‚     memory_percent (FLOAT)                  â”‚
â”‚     net_in_bytes (BIGINT)                   â”‚
â”‚     net_out_bytes (BIGINT)                  â”‚
â”‚     block_read_bytes (BIGINT)               â”‚
â”‚     block_write_bytes (BIGINT)              â”‚
â”‚     pids_current (INT)                      â”‚
â”‚     recorded_at (TIMESTAMP)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Indexes:                                    â”‚
â”‚   idx_container_recorded (container_id,     â”‚
â”‚       recorded_at)                          â”‚
â”‚ Partitioning:                               â”‚
â”‚   Monthly partition on recorded_at          â”‚
â”‚   Retention: 30 days                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


RELATIONSHIPS VISUALIZATION:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

users
  â”œâ”€â†’ applications (1:N) - owner_id
  â””â”€â†’ deployments (1:N) - deployed_by

applications
  â”œâ”€â†’ containers (1:N)
  â”œâ”€â†’ deployments (1:N)
  â””â”€â†’ github_webhooks (1:N)

containers
  â”œâ”€â†’ metrics (1:N)
  â””â”€â†’ api_logs (1:N)

deployments
  â””â”€â†’ github_webhooks (1:1)
```

---

## ðŸŒ NETWORK & PORT ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NETWORK TOPOLOGY & PORT MAPPING                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


EXTERNAL INTERNET:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  External User   â”‚
                        â”‚ (Browser/Client) â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚             â”‚             â”‚
        HTTP:80   â”‚ HTTPS:443  â”‚ WS:443
                   â”‚             â”‚             â”‚
                   â–¼             â–¼             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   FIREWALL / LOAD BALANCER             â”‚
        â”‚   (Reverse Proxy)                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚             â”‚              â”‚
           â–¼             â–¼              â–¼
        Traefik      Traefik API    Deployed
        (80/443)     (8081)         Apps


LONGIN MASTER NODE (Manager):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DOCKER SWARM MANAGER NODE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ PORT 2377  (TCP)    - Swarm Manager communication         â”‚
â”‚ PORT 7946  (TCP/UDP)- Swarm Node communication             â”‚
â”‚ PORT 4789  (UDP)    - VXLAN overlay network               â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ FRONTEND SERVICES (Host listening)                    â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â”‚ Port 3000  â†’ Longin Web UI (React)                     â”‚â”‚
â”‚ â”‚ Port 3001  â†’ Longin Core API (Express)                â”‚â”‚
â”‚ â”‚ Port 3002  â†’ WebSocket Server (Socket.io)             â”‚â”‚
â”‚ â”‚ Port 3003  â†’ Grafana Dashboard                        â”‚â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ INTERNAL SERVICES (Docker network)                    â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â”‚ Port 5432  â†’ PostgreSQL (Database)                     â”‚â”‚
â”‚ â”‚ Port 6379  â†’ Redis (Cache)                            â”‚â”‚
â”‚ â”‚ Port 9090  â†’ Prometheus (Metrics)                     â”‚â”‚
â”‚ â”‚ Port 9091  â†’ Prometheus PushGateway                   â”‚â”‚
â”‚ â”‚ Port 9200  â†’ Elasticsearch (Logging)                  â”‚â”‚
â”‚ â”‚ Port 5601  â†’ Kibana (Log UI)                          â”‚â”‚
â”‚ â”‚ Port 5044  â†’ Logstash (Log Pipeline)                 â”‚â”‚
â”‚ â”‚ Port 8080  â†’ Traefik Dashboard                        â”‚â”‚
â”‚ â”‚ Port 8081  â†’ Traefik API                              â”‚â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ USER APPLICATION PORTS (Assigned)                     â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â”‚ Ports 4000-5000  â†’ Deployed user containers           â”‚â”‚
â”‚ â”‚                   (Max 100 apps)                       â”‚â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â”‚ Example allocation:                                    â”‚â”‚
â”‚ â”‚   App 1: Port 4001                                    â”‚â”‚
â”‚ â”‚   App 2: Port 4002                                    â”‚â”‚
â”‚ â”‚   App 3: Port 4003                                    â”‚â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


WORKER NODES:
â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DOCKER SWARM WORKER NODE (1..N)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ PORT 2377  (TCP)    - Swarm Manager communication          â”‚
â”‚ PORT 7946  (TCP/UDP)- Swarm Node communication             â”‚
â”‚ PORT 4789  (UDP)    - VXLAN overlay network               â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ USER APPLICATION PORTS (Assigned)                     â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â”‚ Ports 4000-5000  â†’ Deployed user containers           â”‚â”‚
â”‚ â”‚                   (Max 100 apps per node)              â”‚â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â”‚ Actual apps running depend on Swarm scheduling        â”‚â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ SERVICE REPLICAS (Distributed by Swarm)               â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â”‚ Longin Core (replica)  â†’ Via overlay network          â”‚â”‚
â”‚ â”‚ App Containers         â†’ Local ports (mapped)          â”‚â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


NETWORK ISOLATION:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BRIDGE NETWORKS                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚ longin-network (user-defined)                   â”‚
â”‚ â””â”€ Internal communication between services      â”‚
â”‚ â””â”€ DNS service discovery (name resolution)      â”‚
â”‚ â””â”€ Automatic load balancing                     â”‚
â”‚                                                  â”‚
â”‚ docker_gwbridge (built-in)                      â”‚
â”‚ â””â”€ Communication between nodes in Swarm         â”‚
â”‚ â””â”€ Gateway from containers to external network  â”‚
â”‚                                                  â”‚
â”‚ Default bridge                                   â”‚
â”‚ â””â”€ Not used (disabled for security)             â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


CONNECTIVITY MATRIX:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    â”‚ Internet â”‚ Manager â”‚ Worker â”‚ Container
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Internet            â”‚    âœ“     â”‚    âœ“    â”‚   âœ“    â”‚     âœ“
(Port 80, 443)      â”‚          â”‚(via LB) â”‚(via LB)â”‚  (via LB)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Manager             â”‚    âœ“     â”‚    âœ“    â”‚   âœ“    â”‚     âœ“
(Frontend)          â”‚          â”‚         â”‚(tunnel)â”‚ (overlay)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Worker Nodes        â”‚    âœ“     â”‚    âœ“    â”‚   âœ“    â”‚     âœ“
(via Manager)       â”‚(tunnel)  â”‚(tunnel) â”‚        â”‚  (local)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Containers          â”‚    âœ“     â”‚    âœ“    â”‚   âœ“    â”‚     âœ“
(via Traefik)       â”‚ (routing)â”‚(overlay)â”‚(overlay)(local)
```

---

## ðŸ“‹ LEGEND & NOTES

```
Symbol Legend:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â†’    Data flow / Connection
â—„â”€â†’  Bi-directional communication
â”‚    Vertical data flow
â”œ    Junction / Branching
â””    End of branch
â—†    Highlight / Important
âœ“    Success / Healthy
âœ—    Failure / Error
â—    Active / Running
âŠ˜    Stopped / Inactive
âš ï¸   Warning
â“˜    Information

Flow Types:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Synchronous (HTTP/REST):  â†’ Response expected immediately
Asynchronous (Queue):     â†’ Fire and forget, processed later
Real-time (WebSocket):    â†’ Bidirectional streaming
Batch Processing:         â†’ Scheduled jobs

Color Code (in actual implementation):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
GREEN   â†’ Healthy / Running
YELLOW  â†’ Warning / Degraded
RED     â†’ Error / Failed
BLUE    â†’ Information / Data transfer
GRAY    â†’ Stopped / Inactive
```

---

**Generated:** [translate:BÅ™ezen 2025]  
**Status:** COMPLETE - All diagrams documented
