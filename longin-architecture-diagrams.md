# ğŸ“Š LONGIN HOSTING - ARCHITEKTURNÃ DIAGRAMY & FLOWCHARTS

---

## 1ï¸âƒ£ SYSTEM ARCHITECTURE DIAGRAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         LONGIN HOSTING SYSTEM                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   CLIENT (BROWSER)      â”‚        â”‚   DEVELOPER ENVIRONMENT      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  React Frontend     â”‚â”‚        â”‚  â”‚  Docker Desktop        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - Dashboard        â”‚â”‚        â”‚  â”‚  - Local dev containersâ”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - App Manager      â”‚â”‚        â”‚  â”‚  - Debugging support   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - Monitoring       â”‚â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â”‚  - Real-time UI     â”‚â”‚                                        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚  â”‚
â”‚             â”‚                                                        â”‚  â”‚
â”‚             â”‚ HTTP + WebSocket                                      â”‚  â”‚
â”‚             â”‚                                                        â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚          BACKEND SERVER (Express.js)                           â”‚ â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  REST API Endpoints                                     â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ POST /api/auth/register          [Public]          â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ POST /api/auth/login             [Public]          â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ POST /api/auth/refresh           [Public]          â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ GET  /api/auth/me                [Auth Required]   â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ POST /api/applications           [Auth Required]   â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ GET  /api/applications/:id       [Auth Required]   â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ POST /api/containers             [Auth Required]   â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ GET  /api/containers/:id/logs    [Auth Required]   â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  WebSocket Server (Socket.io)                           â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ /metrics (app metrics broadcasting)                 â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ /logs    (container log streaming)                  â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ /admin   (admin namespace)                          â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  Authentication & Authorization                         â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ JWT Token Generation/Validation                     â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Password Hashing (bcryptjs)                         â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ Role-Based Access Control (RBAC)                    â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  Docker Integration (dockerode SDK)                     â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Container Creation (image pull, container run)      â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Container Management (start, stop, remove)          â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Port Allocation (3100-4000 range)                   â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Log Streaming (real-time)                           â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ Metrics Collection (CPU, memory, network)           â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  Business Logic Services                                â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ AuthService (user management)                       â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ ContainerService (container lifecycle)              â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ MetricsService (metrics collection & broadcast)     â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ LogsService (log streaming)                         â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚         â”‚                                                         â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚                   â”‚                 â”‚                      â”‚  â”‚  â”‚
â”‚  â–¼                   â–¼                 â–¼                      â–¼  â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ PostgreSQL  â”‚  â”‚  Redis   â”‚  â”‚ Docker       â”‚  â”‚ File System  â”‚ â”‚
â”‚  â”‚  Database   â”‚  â”‚ Cache &  â”‚  â”‚  Engine      â”‚  â”‚ /var/run/    â”‚ â”‚
â”‚  â”‚             â”‚  â”‚ Sessions â”‚  â”‚  Socket      â”‚  â”‚ docker.sock  â”‚ â”‚
â”‚  â”‚  7 Tables:  â”‚  â”‚          â”‚  â”‚              â”‚  â”‚              â”‚ â”‚
â”‚  â”‚ - users     â”‚  â”‚ Store:   â”‚  â”‚ Manages:     â”‚  â”‚ Unix Socket  â”‚ â”‚
â”‚  â”‚ - apps      â”‚  â”‚ - tokens â”‚  â”‚ - Containers â”‚  â”‚ for IPC      â”‚ â”‚
â”‚  â”‚ - containersâ”‚  â”‚ - metricsâ”‚  â”‚ - Images     â”‚  â”‚              â”‚ â”‚
â”‚  â”‚ - metrics   â”‚  â”‚          â”‚  â”‚ - Networks   â”‚  â”‚              â”‚ â”‚
â”‚  â”‚ - logs      â”‚  â”‚          â”‚  â”‚              â”‚  â”‚              â”‚ â”‚
â”‚  â”‚ - webhooks  â”‚  â”‚          â”‚  â”‚              â”‚  â”‚              â”‚ â”‚
â”‚  â”‚ - deploy    â”‚  â”‚          â”‚  â”‚              â”‚  â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           MONITORING & OBSERVABILITY STACK                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Prometheus   â”‚  â”‚  Grafana     â”‚  â”‚  Loki        â”‚ â”‚ Kibana   â”‚ â”‚
â”‚  â”‚ :9090        â”‚  â”‚  :3004       â”‚  â”‚  :3100       â”‚ â”‚ :5601    â”‚ â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚ â”‚          â”‚ â”‚
â”‚  â”‚ Scrapes:     â”‚  â”‚ Visualizes:  â”‚  â”‚ Aggregates:  â”‚ â”‚ Analyzes:â”‚ â”‚
â”‚  â”‚ - API        â”‚  â”‚ - CPU        â”‚  â”‚ - Container  â”‚ â”‚ - All    â”‚ â”‚
â”‚  â”‚ - Containers â”‚  â”‚ - Memory     â”‚  â”‚   logs       â”‚ â”‚   logs   â”‚ â”‚
â”‚  â”‚ - System     â”‚  â”‚ - Network    â”‚  â”‚ - App logs   â”‚ â”‚ - Trends â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2ï¸âƒ£ AUTHENTICATION FLOW

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AUTHENTICATION FLOW                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          REGISTRATION
                              â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                         â”‚                         â”‚
      â–¼                         â–¼                         â–¼
   Client              Express API                    Database
      â”‚                      â”‚                          â”‚
      â”œâ”€ POST /register â”€â”€â”€â”€â”€>â”‚                         â”‚
      â”‚  â”œâ”€ username         â”‚â”€ Validate input â”€â”€â”€â”€â”€â”€>â”‚
      â”‚  â”œâ”€ email            â”‚â”€ Check duplicates       â”‚
      â”‚  â”œâ”€ password         â”‚â”€ Hash password          â”‚
      â”‚  â””â”€ confirm_pwd      â”‚â”€ Create user           â”‚
      â”‚                      â”‚<â”€ User created â”€â”€â”€â”€â”€â”€â”€â”€â”‚
      â”‚                      â”‚                         â”‚
      â”‚                      â”‚â”€ Generate JWT tokens    â”‚
      â”‚                      â”‚  â”œâ”€ Access (15m)        â”‚
      â”‚                      â”‚  â””â”€ Refresh (7d)        â”‚
      â”‚                      â”‚                         â”‚
      â”‚  201 + tokens <â”€â”€â”€â”€â”€â”€â”‚â”€ Store in Redis        â”‚
      â”‚                      â”‚                         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              LOGIN
                              â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                         â”‚                         â”‚
      â–¼                         â–¼                         â–¼
   Client              Express API                    Database
      â”‚                      â”‚                          â”‚
      â”œâ”€ POST /login â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
      â”‚  â”œâ”€ username         â”‚â”€ Find user â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
      â”‚  â””â”€ password         â”‚<â”€ User found â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
      â”‚                      â”‚                         â”‚
      â”‚                      â”‚â”€ Compare password       â”‚
      â”‚                      â”‚â”€ Generate tokens        â”‚
      â”‚                      â”‚  â”œâ”€ Access             â”‚
      â”‚                      â”‚  â””â”€ Refresh            â”‚
      â”‚                      â”‚â”€ Update last_login     â”‚
      â”‚                      â”‚                         â”‚
      â”‚  200 + tokens <â”€â”€â”€â”€â”€â”€â”‚â”€ Store refresh in Redis â”‚
      â”‚                      â”‚                         â”‚
      â”‚  Set-Cookie: refreshToken (HttpOnly)            â”‚
      â”‚                      â”‚                         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          AUTHENTICATED REQUEST
                              â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                         â”‚                         â”‚
      â–¼                         â–¼                         â–¼
   Client              Express API                    Database
      â”‚                      â”‚                          â”‚
      â”œâ”€ GET /me â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
      â”‚  Authorization:       â”‚â”€ Extract token         â”‚
      â”‚  Bearer <accessToken> â”‚â”€ Verify JWT            â”‚
      â”‚                      â”‚â”€ Get user ID           â”‚
      â”‚                      â”‚â”€ Query user â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
      â”‚                      â”‚<â”€ User data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
      â”‚  200 + user <â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€ Remove password       â”‚
      â”‚                      â”‚                         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                        TOKEN REFRESH
                              â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                         â”‚                         â”‚
      â–¼                         â–¼                         â–¼
   Client              Express API                    Redis
      â”‚                      â”‚                          â”‚
      â”œâ”€ POST /refresh â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
      â”‚  refreshToken:        â”‚â”€ Verify refresh token  â”‚
      â”‚  (from cookie)        â”‚â”€ Check in Redis â”€â”€â”€â”€â”€â”€>â”‚
      â”‚                      â”‚<â”€ Token valid â”€â”€â”€â”€â”€â”€â”€â”€â”‚
      â”‚                      â”‚                         â”‚
      â”‚                      â”‚â”€ Generate new access   â”‚
      â”‚                      â”‚   token (15m)           â”‚
      â”‚  200 + new token <â”€â”€â”€â”‚                         â”‚
      â”‚                      â”‚                         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3ï¸âƒ£ CONTAINER LIFECYCLE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONTAINER LIFECYCLE                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CREATE NEW APPLICATION
        â”‚
        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ App created in DB   â”‚
    â”‚ - name: "my-app"    â”‚
    â”‚ - port: 3100        â”‚
    â”‚ - image: "node:20"  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Pull Docker image   â”‚  Docker Registry (Docker Hub)
    â”‚ from registry       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Create container    â”‚
    â”‚ - memory: 512MB     â”‚
    â”‚ - cpu: 1024         â”‚
    â”‚ - ports: 3100:8080  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  Created â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚                             â”‚
               â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Start container     â”‚      â”‚ Database updated     â”‚
    â”‚ - run app           â”‚      â”‚ - status: running    â”‚
    â”‚ - expose port       â”‚      â”‚ - started_at: now    â”‚
    â”‚ - setup networking  â”‚      â”‚ - container_id: XXX  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ RUNNING             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ - app accessible    â”‚                       â”‚
    â”‚ - metrics collected â”‚                       â”‚
    â”‚ - logs streamed     â”‚                       â”‚
    â”‚ - health checked    â”‚                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
               â”‚                                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
        â”‚                         â”‚               â”‚
        â–¼                         â–¼               â”‚
    Healthy                   Unhealthy           â”‚
        â”‚                         â”‚               â”‚
        â”‚ (continue)      (attempt restart)    â”‚
        â”‚                         â”‚               â”‚
        â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”         â”‚
        â”‚               â”‚              â”‚         â”‚
        â”‚           Success        Failure       â”‚
        â”‚               â”‚              â”‚         â”‚
        â”‚               â–¼              â–¼         â”‚
        â”‚           Back to Running Requires Manual
        â”‚           (auto-restart)   Action
        â”‚
        â–¼
    STOP REQUEST
        â”‚
        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Signal container    â”‚
    â”‚ (SIGTERM, 10s wait) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Force kill if neededâ”‚
    â”‚ (SIGKILL)           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Remove container    â”‚
    â”‚ cleanup resources   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Database updated    â”‚
    â”‚ - status: stopped   â”‚
    â”‚ - stopped_at: now   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    DELETE APPLICATION â”€â–º All related data removed
```

---

## 4ï¸âƒ£ REAL-TIME METRICS FLOW

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              REAL-TIME METRICS COLLECTION & BROADCAST                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Every 30 seconds:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   MetricsService.collectAppMetrics()                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Find application â”‚
                    â”‚ & its containers â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                 â”‚
                    â–¼                 â–¼
            Container 1         Container 2 ...
                â”‚                   â”‚
                â–¼                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Get Docker   â”‚    â”‚ Get Docker   â”‚
        â”‚ Container    â”‚    â”‚ Container    â”‚
        â”‚ Stats        â”‚    â”‚ Stats        â”‚
        â”‚ (5 sec)      â”‚    â”‚ (5 sec)      â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                   â”‚
               â–¼                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Parse:       â”‚    â”‚ Parse:       â”‚
        â”‚ - CPU %      â”‚    â”‚ - CPU %      â”‚
        â”‚ - Memory MB  â”‚    â”‚ - Memory MB  â”‚
        â”‚ - Network RX â”‚    â”‚ - Network RX â”‚
        â”‚ - Network TX â”‚    â”‚ - Network TX â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                   â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚ Save to Database â”‚
               â”‚ Metrics table    â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Aggregate Metrics:           â”‚
         â”‚ - Total CPU % (all)          â”‚
         â”‚ - Total Memory MB (all)      â”‚
         â”‚ - Container count            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Broadcast via Socket.io:         â”‚
      â”‚ /metrics namespace               â”‚
      â”‚ Room: app-metrics-{appId}        â”‚
      â”‚                                  â”‚
      â”‚ Send to all connected clients:   â”‚
      â”‚ {                                â”‚
      â”‚   appId: "app-123",              â”‚
      â”‚   containerMetrics: [...],       â”‚
      â”‚   aggregated: {                  â”‚
      â”‚     totalCpu: 45.5,              â”‚
      â”‚     totalMemory: 256.8,          â”‚
      â”‚     containerCount: 2            â”‚
      â”‚   },                             â”‚
      â”‚   timestamp: "2025-03-15T10:..."â”‚
      â”‚ }                                â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Frontend Receives Data   â”‚
         â”‚ Update Redux Store       â”‚
         â”‚ - metricsSlice.metrics   â”‚
         â”‚ Re-render components     â”‚
         â”‚ Update charts in real-   â”‚
         â”‚ time (Recharts)          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5ï¸âƒ£ LOG STREAMING FLOW

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      LOG STREAMING FLOW                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User subscribes to logs:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend     â”‚
â”‚  Socket.io    â”‚
â”‚  client       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ emit('subscribe', { containerId })
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Backend Socket.io Server (/logs namespace)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Received subscribe event
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LogsService.startStreamingLogs()      â”‚
â”‚  - Find container                      â”‚
â”‚  - Validate ownership                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DockerService.streamContainerLogs()   â”‚
â”‚  - Connect to Docker daemon            â”‚
â”‚  - Start log stream (follow: true)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼ (Real-time log chunks arrive)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  onData callback triggered              â”‚
â”‚  - Parse log line                       â”‚
â”‚  - Add timestamp                        â”‚
â”‚  - Decode Docker stream format          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  broadcastLog(containerId, logLine)    â”‚
â”‚  - Send to socket room:                â”‚
â”‚    container-logs-{containerId}        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend receives log event            â”‚
â”‚  {                                      â”‚
â”‚    containerId: "uuid",                â”‚
â”‚    line: "[2025-03-15T10:...] INFO",  â”‚
â”‚    timestamp: "2025-03-15T10:..."     â”‚
â”‚  }                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  React Component (LogViewer)            â”‚
â”‚  - Add to logs array (max last 100)     â”‚
â”‚  - Auto-scroll to bottom                â”‚
â”‚  - Apply syntax highlighting            â”‚
â”‚  - Re-render UI                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Error handling:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Stream error or disconnection          â”‚
â”‚  - Notify frontend of error             â”‚
â”‚  - Stop streaming                       â”‚
â”‚  - Allow manual retry                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6ï¸âƒ£ DATABASE SCHEMA RELATIONSHIPS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ENTITY RELATIONSHIP DIAGRAM                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ USERS   â”‚
                            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                            â”‚ id (PK) â”‚
                            â”‚ usernameâ”‚
                            â”‚ email   â”‚
                            â”‚ passwordâ”‚
                            â”‚ role    â”‚
                            â”‚ ...     â”‚
                            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                 â”‚ 1
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ 1            â”‚ 1            â”‚
                  â–¼              â–¼              â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚APPS      â”‚  â”‚DEPLOYMENTSâ”‚  â”‚GITHUB_WEBHOOKâ”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚id (PK)   â”‚  â”‚id (PK)    â”‚  â”‚id (PK)       â”‚
            â”‚user_id   â”‚â—„â”€â”‚app_id (FK)â”‚  â”‚app_id (FK)   â”‚
            â”‚name      â”‚  â”‚commit_sha â”‚  â”‚user_id (FK)  â”‚
            â”‚slug      â”‚  â”‚status     â”‚  â”‚webhook_secretâ”‚
            â”‚port      â”‚  â”‚build_log  â”‚  â”‚...           â”‚
            â”‚...       â”‚  â”‚...        â”‚  â”‚              â”‚
            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ 1
                 â”‚ N
                 â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚CONTAINERSâ”œâ”€â”€â”€â”€â”€â”€â”€â–ºâ”‚METRICS â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   1 N  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚id (PK)   â”‚        â”‚id (PK) â”‚
            â”‚app_id(FK)â”œâ”€â”€â”€â”€â”   â”‚ctn_id  â”‚
            â”‚docker_id â”‚    â”‚   â”‚app_id  â”‚
            â”‚port      â”‚    â””â”€â”€â–ºâ”‚cpu_pct â”‚
            â”‚status    â”‚        â”‚mem_mb  â”‚
            â”‚...       â”‚        â”‚time    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚...     â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚API_LOGS  â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚id (PK)   â”‚
            â”‚user_id   â”‚â—„â”€ (nullable) links to USERS
            â”‚app_id    â”‚â—„â”€ (nullable) links to APPS
            â”‚endpoint  â”‚
            â”‚method    â”‚
            â”‚status    â”‚
            â”‚response_ â”‚
            â”‚time      â”‚
            â”‚...       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Relations Summary:
- Users      1:N Applications
- Users      1:N Deployments (triggered_by)
- Users      1:N GithubWebhooks
- Users      1:N ApiLogs
- Apps       1:N Containers
- Apps       1:N Deployments
- Apps       1:N Metrics (indirect via Container)
- Apps       1:N ApiLogs
- Apps       1:N GithubWebhooks
- Containers 1:N Metrics
```

---

## 7ï¸âƒ£ DEPLOYMENT ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PRODUCTION DEPLOYMENT STACK                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CLOUD PROVIDER (AWS/GCP/Linode/DigitalOcean)
â”‚
â”œâ”€ Primary Server (Ubuntu 20.04 LTS)
â”‚  â”œâ”€ Docker CE
â”‚  â”œâ”€ Docker Compose
â”‚  â””â”€ 4GB RAM, 2 CPU, 50GB SSD
â”‚
â””â”€ Service Stack:
   â”‚
   â”œâ”€ longin-core (Express.js) on 3001
   â”‚  â””â”€ Hot-reload disabled, production mode
   â”‚
   â”œâ”€ longin-ui (React) on 3000
   â”‚  â””â”€ Nginx reverse proxy, static build
   â”‚
   â”œâ”€ PostgreSQL 15
   â”‚  â””â”€ Persistent volume
   â”‚
   â”œâ”€ Redis 7
   â”‚  â””â”€ Persistent volume
   â”‚
   â”œâ”€ Prometheus :9090
   â”‚  â””â”€ Scrapes every 15s
   â”‚
   â”œâ”€ Grafana :3004
   â”‚  â””â”€ Data source: Prometheus
   â”‚
   â”œâ”€ Loki :3100
   â”‚  â””â”€ Log aggregation
   â”‚
   â””â”€ Elasticsearch :9200
      â””â”€ Log indexing


Reverse Proxy (Nginx/Traefik - optional):
â”‚
â”œâ”€ longin.example.com â”€â”€â”
â”‚                       â”œâ”€â”€> longin-ui:3000
â”‚
â”œâ”€ api.longin.com â”€â”€â”€â”€â”€â”€â”
â”‚                       â”œâ”€â”€> longin-core:3001
â”‚
â””â”€ ws.longin.com â”€â”€â”€â”€â”€â”€â”€â”
                        â”œâ”€â”€> longin-core:3002 (WebSocket)


Monitoring & Alerting:
â”œâ”€ Prometheus alerts (CPU, memory, disk)
â”œâ”€ Grafana dashboards
â”œâ”€ CloudFlare analytics (if using)
â””â”€ Email notifications (SMTP)


Backup Strategy:
â”œâ”€ PostgreSQL: Daily snapshots
â”œâ”€ Redis: RDB dumps
â”œâ”€ Application files: Git versioning
â””â”€ Retention: 30 days rolling backup


Scaling (Future):
â”œâ”€ Kubernetes (optional)
â”œâ”€ Load balancer (multiple longin-core instances)
â”œâ”€ Managed database (AWS RDS, Cloud SQL)
â””â”€ CDN for static assets
```

---

## 8ï¸âƒ£ DATA FLOW DIAGRAM (COMPLETE)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COMPLETE DATA FLOW                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         USER INTERACTION
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚             â”‚             â”‚
                â–¼             â–¼             â–¼
            LOGIN        DEPLOY APP      VIEW LOGS
                â”‚             â”‚             â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚             â”‚             â”‚
                â–¼             â–¼             â–¼
            AUTH API     CONTAINER API   LOGS API
                â”‚             â”‚             â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚             â”‚             â”‚
                â–¼             â–¼             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     BACKEND (Express.js)             â”‚
        â”‚  - Validate requests                 â”‚
        â”‚  - Execute business logic            â”‚
        â”‚  - Manage state                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚             â”‚             â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚             â”‚             â”‚
                â–¼             â–¼             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚PostgreSQLâ”‚  â”‚Docker SDKâ”‚  â”‚Redis     â”‚
        â”‚          â”‚  â”‚          â”‚  â”‚          â”‚
        â”‚USERS     â”‚  â”‚Containersâ”‚  â”‚Sessions  â”‚
        â”‚APPS      â”‚  â”‚Metrics   â”‚  â”‚Tokens    â”‚
        â”‚METRICS   â”‚  â”‚Images    â”‚  â”‚Cache     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    REAL-TIME UPDATES
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                  â”‚
        â–¼                     â–¼                  â–¼
    WebSocket           Metrics Stream      Log Stream
    Connection          (30s interval)      (real-time)
        â”‚                     â”‚                  â”‚
        â”‚                     â–¼                  â”‚
        â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
        â”‚            â”‚MetricsServiceâ”‚           â”‚
        â”‚            â”‚              â”‚           â”‚
        â”‚            â”‚Collect from  â”‚           â”‚
        â”‚            â”‚Docker daemon â”‚           â”‚
        â”‚            â”‚Aggregate     â”‚           â”‚
        â”‚            â”‚Broadcast     â”‚           â”‚
        â”‚            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
        â”‚                   â”‚                   â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
        â”‚  â”‚                â”‚               â”‚   â”‚
        â”‚  â–¼                â–¼               â–¼   â”‚
        â”‚  Namespace:   Namespace:       Namespace:
        â”‚  /            /metrics         /logs
        â”‚  â”‚            â”‚                â”‚
        â”‚  â–¼            â–¼                â–¼
        â”‚  Connected   Metrics data      Log lines
        â”‚  clients     broadcast         streamed
        â”‚  â”‚            â”‚                â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚              â”‚
                        â–¼              â–¼
                    Frontend        Redux Store
                    Receives        Updates state
                    events          Re-renders UI
```

---

**Tyto diagramy poskytujÃ­ kompletnÃ­ vizuÃ¡lnÃ­ pÅ™ehled architekury, datovÃ½ch tokÅ¯ a interakcÃ­ v systÃ©mu Longin Hosting.** ğŸ¯
